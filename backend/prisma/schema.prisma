generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
  directUrl = env("DIRECT_URL")
}

model User {
  id        Int      @id @default(autoincrement())
  name      String
  email     String   @unique
  password  String
  role      String?  // optional: "founder" | "investor" | "student"
  createdAt DateTime @default(now())
  ideas     Idea[]
  startups  Startup[]
}

model Idea {
  id          Int      @id @default(autoincrement())
  title       String
  pitch       String
  problem     String
  marketSize  String?
  audience    String?
  businessModel String?
  traction    String?
  founderId   Int
  founder     User     @relation(fields: [founderId], references: [id])
  createdAt   DateTime @default(now())
}

model Startup {
  id          Int      @id @default(autoincrement())
  name        String
  description String?
  founderId   Int
  founder     User     @relation(fields: [founderId], references: [id])
  createdAt   DateTime @default(now())
}

model EvaluationResult {
  id                Int      @id @default(autoincrement())
  title              String
  pitch              String
  problem            String
  solution           String
  targetAudience     String
  businessModel      String
  competition        String?
  experience         String?
  education          String?
  skills             String?
  founderRole        String?
  traction           String?
  mvpReady           String?
  vision             String?
  feasibility        Int
  marketPotential    Int
  competitionScore   Int
  scalability        Int
  executionDifficulty Int
  verdict            String
  summary            String   @db.Text
  nextSteps          String   @db.Text // JSON array stored as string
  techStack          String?  @db.Text
  fundingStage       String?
  investorMatches    String?  @db.Text // JSON array stored as string
  createdAt          DateTime @default(now())
}
